<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Authgear + FakeStore — Mini Projet</title>
  <script src="script.js" defer></script>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header class="w-full bg-gray-900 text-white py-3 px-6 flex items-center gap-6 shadow-lg">
  <div class="branding text-2xl font-bold whitespace-nowrap"><a href="#"><img src="images/skysore.png" alt="SkyStore Logo" class="logo"></a></div>

  <!-- Search bar Amazon style -->
  <div class="flex-1 flex justify-center">
    <div class="w-full max-w-2xl flex">
      <input id="searchInput" type="text" placeholder="Recherche SkyStore..." class="flex-1 p-2 text-black rounded-l-md focus:outline-none" />
      <button id="btnSearch" class="bg-yellow-500 text-black px-4 rounded-r-md font-semibold hover:bg-yellow-400">Rechercher</button>
    </div>
  </div>

  <!-- Right section (Account, Cart) -->
  <div class="center flex items-center gap-6 whitespace-nowrap">
    <div id="cartCount" class="text-lg font-semibold">Panier (0)</div>
    <button id="btnProfile" class="btn ghost text-white hover:text-yellow-400">Mon profil</button>
    <button id="btnLogout" class="btn ghost hidden text-white hover:text-yellow-400">Déconnexion</button>
  </div>
</header>

  <main class="container">
    <!-- Navigation simple (SPA) -->
    <div style="margin-bottom:12px;display:flex;gap:8px;align-items:center">
      <button class="btn" data-nav="home">Produits</button>
      <button class="btn ghost" data-nav="cart">Panier</button>
      <button class="btn ghost" data-nav="login" id="navLogin">Login</button>
      <input id="searchInput" placeholder="Rechercher..." style="margin-left:auto;width:220px"> 
      <select id="categoryFilter" style="margin-left:8px"><option value="">Toutes</option></select>
    </div>

    <div class="grid">
      <section id="mainColumn">
        <!-- Pages -->
        <div id="page-home" class="page hidden">
          <div class="card">
            <div style="display:flex;justify-content:space-between;align-items:center">
              <h2>Produits</h2>
              <div class="small muted" id="productCount"></div>
            </div>
            <div id="products" class="products" style="margin-top:12px"></div>
          </div>
        </div>

        <div id="page-cart" class="page hidden">
          <div class="card">
            <h2>Mon Panier</h2>
            <div id="cartItems" style="margin-top:12px"></div>
            <div style="margin-top:12px;display:flex;justify-content:space-between;align-items:center">
              <div class="small muted">Total:</div>
              <div id="cartTotal" style="font-weight:700">0 $</div>
            </div>
          </div>
        </div>

        <div id="page-login" class="page">
          <div class="card" style="max-width:420px;margin:0 auto">
            <h2>Connexion</h2>
            <p class="small muted">Inserez vos identifiants pour vous connecter.</p>
            <form id="loginForm">
              <div style="display:flex;flex-direction:column;gap:8px">
                <input id="email" type="email" placeholder="Email" required>
                <input id="password" type="password" placeholder="Mot de passe" required>
                <div style="display:flex;gap:8px">
                  <button class="btn" type="submit">Se connecter</button>
                  <button id="btnAuthgearLogin" class="btn ghost" type="button">Login via Authgear</button>
                </div>
              </div>
            </form>
            <p id="loginTokenInfo" class="small muted" style="margin-top:10px;word-break:break-all;"></p>
          </div>
        </div>

      </section>

      <aside>
        <div id="profileBox" class="card hidden">
          <h3>Profil</h3>
          <div id="profileContent" class="small muted">Aucun utilisateur connecté</div>
        </div>

        <div class="card" style="margin-top:12px">
          <h3>Recherche & Filtre</h3>
          <div style="margin-top:8px">
            <input id="searchInputSide" placeholder="Rechercher...">
            <div style="margin-top:8px">
              <select id="categoryFilterSide"><option value="">Toutes</option></select>
            </div>
          </div>
        </div>
      </aside>
    </div>
  </main>

  <footer>
            <div class="footer_container">
                <div class="gettoknowus">
                    <h3>Get to Know Us</h3>
                    <ul>
                        <li><a href="#">About SkyStore</a></li>
                        <li><a href="#">Careers</a></li>
                        <li><a href="#">Press Releases</a></li>
                    </ul>
                </div>
                <div class="connectwithus">
                    <h3>Connect with Us</h3>
                    <ul>
                        <li><a href="#">Facebook</a></li>
                        <li><a href="#">Twitter</a></li>
                        <li><a href="#">Instagram</a></li>
                        <li><a href="#">LinkedIn</a></li>
                        <li><a href="#">YouTube</a></li>
                        <li><a href="#">Threads</a></li>
                        <li><a href="#">TikTok</a></li>
                    </ul>
                </div>
                <div class="makeMoneywithus">
                    <h3>Make Money with Us</h3>
                    <ul>
                        <li><a href="#">Sell on SkyStore</a></li>
                        <li><a href="#">Affiliate Program</a></li>
                        <li><a href="#">Advertise Your Products</a></li>
                    </ul>
                </div>
                <div class="letushelpyou">
                    <h3>Let Us Help You</h3>
                    <ul>
                        <li><a href="#">Your Account</a></li>
                        <li><a href="#">Returns Centre</a></li>
                        <li><a href="#">100% Purchase Protection</a></li>
                        <li><a href="#">Help</a></li>
                    </ul>
                </div>
            </div>
            <!-- language selection -->
            <div class="language_selection" style="text-align: center; margin-top: 20px;">
                <label for="language">Select Language: </label>
                <select id="language" name="language">
                    <option value="en">English</option>
                    <option value="fr">French</option>
                    <option value="es">Spanish</option>
                    <option value="de">German</option>
                    <option value="zh">Chinese</option>
                </select>
            </div>
            <!-- notice -->
            <div class="footer_notice" style="text-align: center; margin-top: 10px;">
                <p>&copy; 2025 SkyStore. All rights reserved.</p>
        </footer>

  <!-- Modal pour les détails produits -->
  <div id="productModal" class="modal hidden">
    <div class="modal-overlay" onclick="closeProductModal()"></div>
    <div class="modal-content">
      <button class="modal-close" onclick="closeProductModal()">✕</button>
      <div id="modalDetail"></div>
    </div>
  </div>
</body>
</html>
